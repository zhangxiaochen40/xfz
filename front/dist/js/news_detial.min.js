function NewsList(){}NewsList.prototype.run=function(){this.listenSubmitBtn()},NewsList.prototype.listenSubmitBtn=function(){var n=$(".submit-btn"),s=$("textarea[name='comment-textarea']");n.click(function(){var t=s.val(),e=n.attr("data-news-id");xfzajax.post({url:"/news/comment",data:{content:t,news_id:e},success:function(t){if(200===t.code){var e=t.data,n=template("comment-item",{comment:e});$(".comment-list").prepend(n),window.messageBox.showSuccess("评论发表成功"),s.val("")}else window.messageBox.showError(t.message)}})})},$(function(){(new NewsList).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5ld3NfZGV0aWFsLmpzIl0sIm5hbWVzIjpbIk5ld3NMaXN0IiwicHJvdG90eXBlIiwicnVuIiwidGhpcyIsImxpc3RlblN1Ym1pdEJ0biIsInN1Ym1pdEJ0biIsIiQiLCJ0ZXh0YXJlYSIsImNsaWNrIiwiY29udGVudCIsInZhbCIsIm5ld3NfaWQiLCJhdHRyIiwieGZ6YWpheCIsInBvc3QiLCJ1cmwiLCJkYXRhIiwic3VjY2VzcyIsInJlc3VsdCIsImNvbW1lbnQiLCJ0cGwiLCJ0ZW1wbGF0ZSIsInByZXBlbmQiLCJ3aW5kb3ciLCJtZXNzYWdlQm94Iiwic2hvd1N1Y2Nlc3MiLCJzaG93RXJyb3IiXSwibWFwcGluZ3MiOiJBQUFBLFNBQVNBLFlBS1RBLFNBQVNDLFVBQVVDLElBQUksV0FDVEMsS0FDTEMsbUJBSVRKLFNBQVNDLFVBQVVHLGdCQUFnQixXQUMvQixJQUNJQyxFQUFZQyxFQUFFLGVBQ2RDLEVBQVdELEVBQUUscUNBQ2pCRCxFQUFVRyxNQUFNLFdBQ1osSUFBSUMsRUFBVUYsRUFBU0csTUFDbkJDLEVBQVVOLEVBQVVPLEtBQUssZ0JBRTdCQyxRQUFRQyxLQUFLLENBQ1RDLElBQU0sZ0JBQ05DLEtBQU8sQ0FDSFAsUUFBVUEsRUFDVkUsUUFBVUEsR0FFZE0sUUFBVSxTQUFVQyxHQUNoQixHQUFvQixNQUFqQkEsRUFBYSxLQUFRLENBQ3BCLElBQUlDLEVBQVNELEVBQWEsS0FDdEJFLEVBQU1DLFNBQVMsZUFBZSxDQUFDRixRQUFVQSxJQUM1QmIsRUFBRSxpQkFDUGdCLFFBQVFGLEdBQ3BCRyxPQUFPQyxXQUFXQyxZQUFZLFVBQzlCbEIsRUFBU0csSUFBSSxTQUViYSxPQUFPQyxXQUFXRSxVQUFVUixFQUFnQixlQVNoRVosRUFBRSxZQUNrQixJQUFJTixVQUNWRSIsImZpbGUiOiJuZXdzX2RldGlhbC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBOZXdzTGlzdCgpIHtcblxufVxuXG5cbk5ld3NMaXN0LnByb3RvdHlwZS5ydW49ZnVuY3Rpb24gKCkge1xuICAgIHZhciBzZWxmID10aGlzO1xuICAgIHNlbGYubGlzdGVuU3VibWl0QnRuKCk7XG59O1xuXG5cbk5ld3NMaXN0LnByb3RvdHlwZS5saXN0ZW5TdWJtaXRCdG49ZnVuY3Rpb24oKXtcbiAgICB2YXIgc2VsZiA9dGhpcztcbiAgICB2YXIgc3VibWl0QnRuID0gJCgnLnN1Ym1pdC1idG4nKTtcbiAgICB2YXIgdGV4dGFyZWEgPSAkKFwidGV4dGFyZWFbbmFtZT0nY29tbWVudC10ZXh0YXJlYSddXCIpXG4gICAgc3VibWl0QnRuLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNvbnRlbnQgPSB0ZXh0YXJlYS52YWwoKTtcbiAgICAgICAgdmFyIG5ld3NfaWQgPSBzdWJtaXRCdG4uYXR0cignZGF0YS1uZXdzLWlkJyk7XG5cbiAgICAgICAgeGZ6YWpheC5wb3N0KHtcbiAgICAgICAgICAgICd1cmwnOicvbmV3cy9jb21tZW50JyxcbiAgICAgICAgICAgICdkYXRhJzp7XG4gICAgICAgICAgICAgICAgJ2NvbnRlbnQnOmNvbnRlbnQsXG4gICAgICAgICAgICAgICAgJ25ld3NfaWQnOm5ld3NfaWQsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgJ3N1Y2Nlc3MnOmZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICBpZihyZXN1bHRbJ2NvZGUnXT09PTIwMCl7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjb21tZW50ID1yZXN1bHRbJ2RhdGEnXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRwbCA9IHRlbXBsYXRlKCdjb21tZW50LWl0ZW0nLHsnY29tbWVudCc6Y29tbWVudH0pXG4gICAgICAgICAgICAgICAgICAgIHZhciBjb21tZW50bGlzdD0gJCgnLmNvbW1lbnQtbGlzdCcpO1xuICAgICAgICAgICAgICAgICAgICBjb21tZW50bGlzdC5wcmVwZW5kKHRwbCk7XG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5tZXNzYWdlQm94LnNob3dTdWNjZXNzKCfor4Torrrlj5HooajmiJDlip8nKVxuICAgICAgICAgICAgICAgICAgICB0ZXh0YXJlYS52YWwoXCJcIilcbiAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgd2luZG93Lm1lc3NhZ2VCb3guc2hvd0Vycm9yKHJlc3VsdFsnbWVzc2FnZSddKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9KVxufTtcblxuXG5cbiQoZnVuY3Rpb24gKCkge1xuICAgIHZhciBuZXdzX2xpc3QgPSBuZXcgTmV3c0xpc3QoKTtcbiAgICBuZXdzX2xpc3QucnVuKClcbn0pOyJdfQ==
